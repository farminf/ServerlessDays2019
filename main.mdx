import { Image, Head, Appear } from "mdx-deck";
import { Split, FullScreenCode } from "mdx-deck/layouts";
export { default as theme } from "./theme";
import titleLayout from "./title_layout";
import Layout from "./layout";
import BGLayout from "./bglayout";
import BGImage from "./BGImage";
import ts from "./images/ts.png";
import java from "./images/java.jpg";
import net from "./images/net.png";
import python from "./images/python.jpg";
import js from "./images/js.png";
import legacy from "./images/legacy.png";
import cert from "./images/cert.png";
import heaven from "./images/heavenb1.jpg";
import thanks from "./images/thanks.gif";
import bash from "./images/bash.png";
import angry from "./images/angry.gif";

<Head>
  <title>ServerlessDays</title>
</Head>

# Code Your Infrastructure With Your Favorite Language!

export default titleLayout;

---

# what is Infrastructure as Code?

```bash
I want a dynamoDB table with id as partition key
I want a lambda function
lambda function should have read/write access on the table
I want an API with an endpoint on API Gateway
API should call the lambda

```

---

<Image src={"./images/cfn.svg"} />

```notes
- our experience with cfn

EASY TO AUTOMATE
REPRODUCIBLE
CONFIGURATION SYNTAX
NO ABSTRACTION, LOTS OF DETAILS
ALWAYS HAVE CFN TAB OPEN

```

---

# Why Infrastructure as Code?

export default Layout;

<ul>
  <Appear>
    <p>Avoid Manual Resources Creation</p>
    <p>Deployment Environments</p>
    <p>Reusability and Scalability</p>
    <p>Versioning/git</p>
  </Appear>
</ul>

```notes
- what is Infrastructure
- infra as code is underrated
- time consuming so developers do it manually
- benefits
- we have app on marketplace
- we use git

```

---

export default Layout;

## AWS CloudFormation

## Terraform

## Serverless Framework

## AWS SAM

## AWS Amplify-CLI

```notes
- we as DA in Iac

```

---

# AWS CloudFormation

export default Layout;

---

<Image src={"./images/cfn-example.svg"} />

---

<Image src="./images/cfn-yaml1.svg" />

```notes
- our frustration
```

---

<img src={angry} width="1200px" />

---

export default BGLayout;

<BGImage src={heaven} />
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>

# AWS CDK

### Cloud Development Kit

---

export default Layout;

## Open Source

## Almost one year

## Beta v0.35.0

## Try it now!

---

export default Layout;

<div   style={{display: "grid", gridTemplateColumns:"20% 20% 20% 20% 20%", gridTemplateRows:"100%", gridColumnGap: "20px"}}>

<img src={js} width="150px" height="150px" />
<img src={ts} width="150px" height="150px" />
<img src={net} width="150px" height="150px" />
<img src={java} width="150px" height="150px" />
<img src={python} width="150px" height="150px" />

</div>

---

<Image src={"./images/cdkarc.svg"} />

---

export default Layout;

# Constructs

```jsx
new s3.Bucket(this, "MyBucket");
```

```notes
- Represent all the resources available on AWS
- It contains low-level and high-level classes
- Low-level resources are generated from AWS CloudFormation resources type reference (The ones starting with ‘cfn’)
- High-level resources offer same functionality but much less detail required
- They offer smart defaults and defined automatic configuration
```

---

export default Split;

![](images/myStack.png)

![](images/myStackarc.png)

---

### Challenging Example: HTTPS Certificate Provisioning

export default Layout;

<img src={cert} width="1200px" />

```notes
- we did this and said we share it

```

---

export default Layout;

### Can we use our existing Yaml/Json files?

<img src={legacy} width="1200px" />

---

export default Layout;

### AWS CDK Command Line Interface

<img src={bash} width="1000px" />

---

export default Layout;

# Infrastructure as REAL code!

<ul>
  <Appear>
    <p> Multi Region </p>
    <p> Best Practices</p>
    <p> Code Completion </p>
    <p> Code Reusability </p>
    <p> Private Constructs</p>
    <p>
      <font style={{ color: "red" }}> Challenging at first glance </font>
    </p>
  </Appear>
</ul>

---

<img src={thanks} width="700px" />

<p><font color="#00ACEE">@farminfarzin</font></p>

#### https://digitalattitude.com

##### https://code-your-infrastructure-with-your-favorite-language.now.sh

---

```notes
- avoid saying mmmm
- on gif: sounds familiar no?
```
